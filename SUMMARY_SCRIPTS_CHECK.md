# üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

## –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü—Ä–æ–≤–µ—Ä–µ–Ω—ã 3 —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `organization_name` –≤ —Å–∏—Å—Ç–µ–º—É.

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

| –°–∫—Ä–∏–ø—Ç | –°—Ç–∞—Ç—É—Å | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|--------|----------|
| `test_organizations_in_analyzer.py` | ‚úÖ –ê–∫—Ç—É–∞–ª–µ–Ω | –û—Å—Ç–∞–≤–ª–µ–Ω –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| `extract_single_channel.py` | ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω** | –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π |
| `build_organizations_mapping.py` | ‚úÖ –ê–∫—Ç—É–∞–ª–µ–Ω | –û—Å—Ç–∞–≤–ª–µ–Ω –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |

---

## üìù –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏

### 1. `test_organizations_in_analyzer.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –º–∞–ø–ø–∏–Ω–≥–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ê–∫—Ç—É–∞–ª–µ–Ω**, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ:** –ù–µ—Ç (standalone —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç).

**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

### 2. `extract_single_channel.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (2025-11-18).

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –¥–æ–±–∞–≤–ª—è–ª –ø–æ–ª—è `organization_id` –∏ `organization_name` –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã.

**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏.

#### –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `load_organization_mapping()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞
2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ `simplify_message()` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `organization_id`, `organization_name`
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∞—Ä–≥—É–º–µ–Ω—Ç `--organization-id` –≤ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
4. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ org ID –≤ –Ω–∞–∑–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥

#### –ù–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```bash
# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
python extract_single_channel.py \
  --channel-id "1ef822c2-8e22-6d9c-83ea-ca605751c2ac" \
  --channel-name "–¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª" \
  --organization-id "1ef822c2-7fd7-66cd-aa65-d7b09a6fc205"

# –ë–µ–∑ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ)
python extract_single_channel.py \
  --channel-id "1ef822c2-8e22-6d9c-83ea-ca605751c2ac" \
  --channel-name "–¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª"
```

---

### 3. `build_organizations_mapping.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `organizations_mapping.json` –∏–∑ API `/chats/teams`.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ê–∫—Ç—É–∞–ª–µ–Ω –∏ –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã**.

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ:** ‚úÖ –î–∞, —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –≤ `transform/chat_analyzer.py` –∫–∞–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –¥–ª—è –∑–∞–ø—É—Å–∫–∞.

**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

## üîÑ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–¢–µ–ø–µ—Ä—å **–≤—Å–µ** —Å–∫—Ä–∏–ø—Ç—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é –ª–æ–≥–∏–∫—É:

| –°–∫—Ä–∏–ø—Ç | –ú–∞–ø–ø–∏–Ω–≥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π | –ü–æ–ª—è –≤ –≤—ã–≤–æ–¥–µ |
|--------|---------------------|---------------|
| `chat_analyzer.py` | ‚úÖ –î–∞ | `organization_id`, `organization_name` |
| `unique_chats.py` | ‚úÖ –î–∞ | `organization_id`, `organization_name` |
| `extract_single_channel.py` | ‚úÖ **–î–∞** (–æ–±–Ω–æ–≤–ª–µ–Ω–æ) | `organization_id`, `organization_name` |

---

## üìÇ –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `organizations_mapping.json`

1. ‚úÖ `transform/chat_analyzer.py` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
2. ‚úÖ `transform/unique_chats.py` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
3. ‚úÖ `extract_single_channel.py` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç (**–æ–±–Ω–æ–≤–ª–µ–Ω–æ**)
4. ‚úÖ `build_organizations_mapping.py` - **—Å–æ–∑–¥–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª**
5. ‚úÖ `test_organizations_in_analyzer.py` - —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ñ–∞–π–ª–µ: `ANALYSIS_SCRIPTS_USAGE.md`

---

## ‚úÖ –í—ã–≤–æ–¥—ã

1. ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã
2. ‚úÖ `extract_single_channel.py` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è
3. ‚úÖ –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏
4. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-11-18  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –≤—Å–µ —Ñ–∞–π–ª—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã

